# Gassigeher Production Environment Variables
# Copy this file to /var/gassigeher/config/.env and configure

# ============================================
# APPLICATION CONFIGURATION
# ============================================

# Server port (nginx proxies to this port)
PORT=8080

# ============================================
# DATABASE CONFIGURATION
# ============================================

# Database Type (sqlite, mysql, or postgres)
# Default: sqlite (no additional configuration needed)
DB_TYPE=sqlite

# SQLite Configuration (default)
DATABASE_PATH=/var/gassigeher/data/gassigeher.db

# MySQL Configuration (use if DB_TYPE=mysql)
# DB_HOST=localhost
# DB_PORT=3306
# DB_NAME=gassigeher
# DB_USER=gassigeher_user
# DB_PASSWORD=your_secure_password

# PostgreSQL Configuration (use if DB_TYPE=postgres)
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=gassigeher
# DB_USER=gassigeher_user
# DB_PASSWORD=your_secure_password
# DB_SSLMODE=require  # disable, require, or verify-full

# Alternative: Full Connection String (overrides above if set)
# DB_CONNECTION_STRING=mysql://user:pass@localhost:3306/gassigeher
# DB_CONNECTION_STRING=postgres://user:pass@localhost:5432/gassigeher?sslmode=require

# Connection Pool (MySQL/PostgreSQL only, ignored for SQLite)
# DB_MAX_OPEN_CONNS=25          # Maximum open connections
# DB_MAX_IDLE_CONNS=5           # Maximum idle connections
# DB_CONN_MAX_LIFETIME=5        # Connection lifetime (minutes)

# ============================================
# AUTHENTICATION & SECURITY
# ============================================

# JWT Secret - MUST BE CHANGED IN PRODUCTION
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE-THIS-TO-A-SECURE-RANDOM-256-BIT-STRING

# JWT token expiration in hours
JWT_EXPIRATION_HOURS=24

# ============================================
# SUPER ADMIN CONFIGURATION
# ============================================

# Super Admin email address
# The Super Admin account is created automatically on first run
# This email will receive the initial Super Admin credentials
SUPER_ADMIN_EMAIL=admin@yourdomain.com

# REMOVED: ADMIN_EMAILS (no longer used)
# Admin privileges are now managed via database
# Super Admin can promote/demote users to admin via admin-users.html UI

# ============================================
# EMAIL PROVIDER CONFIGURATION
# ============================================

# Email Provider (gmail or smtp) - default: gmail
EMAIL_PROVIDER=gmail

# BCC Admin Copy (optional - works with all providers)
# All sent emails will be BCC'd to this address for audit trail
# Leave empty to disable
EMAIL_BCC_ADMIN=

# --------------------------------------------------
# Gmail API Configuration (get these from Google Cloud Console)
# --------------------------------------------------
GMAIL_CLIENT_ID=your-client-id.apps.googleusercontent.com
GMAIL_CLIENT_SECRET=your-client-secret
GMAIL_REFRESH_TOKEN=your-refresh-token
GMAIL_FROM_EMAIL=noreply@yourdomain.com

# --------------------------------------------------
# SMTP Configuration (for Strato, Office365, etc.)
# --------------------------------------------------
# Use when EMAIL_PROVIDER=smtp

# Strato Example:
# SMTP_HOST=smtp.strato.de
# SMTP_PORT=465
# SMTP_USERNAME=noreply@yourdomain.com
# SMTP_PASSWORD=your-email-password
# SMTP_FROM_EMAIL=noreply@yourdomain.com
# SMTP_USE_SSL=true
# SMTP_USE_TLS=false

# Office365 Example:
# SMTP_HOST=smtp.office365.com
# SMTP_PORT=587
# SMTP_USERNAME=noreply@yourdomain.com
# SMTP_PASSWORD=your-password
# SMTP_FROM_EMAIL=noreply@yourdomain.com
# SMTP_USE_TLS=true
# SMTP_USE_SSL=false

# Generic SMTP Settings (uncomment when using EMAIL_PROVIDER=smtp):
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=
SMTP_USE_TLS=false
SMTP_USE_SSL=false

# ============================================
# FILE UPLOADS
# ============================================

# Directory for uploaded files (photos)
UPLOAD_DIR=/var/gassigeher/uploads

# Maximum file size in MB
MAX_UPLOAD_SIZE_MB=5

# ============================================
# SYSTEM SETTINGS (DEFAULTS)
# ============================================
# These can be changed via admin UI after deployment

# How many days in advance users can book
BOOKING_ADVANCE_DAYS=14

# Minimum hours before walk for cancellation
CANCELLATION_NOTICE_HOURS=12

# Days of inactivity before auto-deactivation
AUTO_DEACTIVATION_DAYS=365

# ============================================
# PRODUCTION NOTES
# ============================================

# Security:
# - Keep this file secure (chmod 600)
# - Never commit this file to version control
# - Backup this file securely offline
# - Rotate JWT_SECRET periodically (requires re-login for all users)
# - Use strong, unique secrets

# Gmail API:
# - Enable Gmail API in Google Cloud Console
# - Create OAuth 2.0 credentials
# - Add authorized redirect URIs
# - Test email sending before launch

# Monitoring:
# - Check logs: journalctl -u gassigeher -f
# - Monitor disk space for database growth
# - Monitor backup sizes
# - Watch for failed email sends
